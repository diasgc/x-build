#!/bin/bash

lib='lame'
dsc='LAME is a high quality MPEG Audio Layer III (MP3) encoder'
lic='LGPL'
url='http://www.mp3dev.org'
src="https://svn.code.sf.net/p/lame/svn/trunk/lame"
cfg='cmake'
dep='libiconv'
eta='180'

cmake_static='BUILD_STATIC_LIBS'
cmake_bin='INSTALL_PROGRAMS'
cmake_config='-DINSTALL_MANPAGES=OFF -DINSTALL_HTML=OFF'

dev_vrs='3.101'

lst_inc='lame/lame.h'
lst_lib='libmp3lame'
lst_bin='lame'
lst_lic='LICENSE COPYING'
lst_pc='lame.pc'

. xbuild

start

# cpu av8 av7 x86 x64
# NDK +++ +++  .   .  clang
# GNU +++ +++  .   .  gcc
# WIN +++ +++  .   .  clang/gcc

# patch 01 create CMakeLists.txt with dual static/shared build support and pc config file
# patch 02 create lame.pc.in
<<'LZS_PATCH'
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
RPA4AbMHoaRwApQQI3ylRAgQAA==
LZS_PATCH

# Filelist
# --------
#
# bin/lame
# bin/mp3rtp
# include/lame/lame.h
# lib/cmake/mp3lameTargets-static.cmake
# lib/cmake/mp3lameTargets.cmake
# lib/libmp3lame.a
# lib/libmp3lame.so
# lib/pkgconfig/lame.pc
# share/doc/lame/COPYING
# share/doc/lame/LICENSE