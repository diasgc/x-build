#!/bin/bash
# cpu av8 av7 x86 x64
# NDK  .   .   .  PP  clang
# GNU  .   .   .  PP  gcc
# WIN  .   .   .  PP  clang/gcc

lib='uavs3e'
dsc='AVS3 encoder which supports AVS3-P2 baseline profile.'
lic='Other'
src='https://github.com/uavs3/uavs3e.git'
cfg='cmake'
eta='0'

lst_inc=''
lst_lib=''
lst_bin=''

. xbuilder.sh

$host_x64 || doErr "Only for x86_64 cpus. $arch not supported."

start

<<'XB64_PATCH'
LS0tIENNYWtlTGlzdHMub2xkCTIwMjEtMTAtMzAgMjI6MDg6MzYuMDc5MDAwMDAwICswMTAwCisr
KyBDTWFrZUxpc3RzLnR4dAkyMDIxLTEwLTMwIDIyOjA4OjU2LjI3NTA0NjMwMCArMDEwMApAQCAt
MSw3ICsxLDcgQEAKIGNtYWtlX21pbmltdW1fcmVxdWlyZWQoVkVSU0lPTiAyLjgpCiAKIHByb2pl
Y3QodWF2czNlKQotCithZGRfY29tcGlsZV9vcHRpb25zKC1Xbm8tcG9pbnRlci1zaWduIC1Xbm8t
dW51c2VkLXZhbHVlIC1Xbm8tbG9naWNhbC1ub3QtcGFyZW50aGVzZXMgLVduby1zaGlmdC1uZWdh
dGl2ZS12YWx1ZSAtV25vLWluY29tcGF0aWJsZS1wb2ludGVyLXR5cGVzIC1Xbm8tY29uc3RhbnQt
Y29udmVyc2lvbikKIGF1eF9zb3VyY2VfZGlyZWN0b3J5KC4vdGVzdCBESVJfU1JDX1RFU1QpCiBz
ZXRfc291cmNlX2ZpbGVzX3Byb3BlcnRpZXMoJHtESVJfU1JDX1RFU1R9IFBST1BFUlRJRVMgQ09N
UElMRV9GTEFHUyAiJHtDTUFLRV9DX0ZMQUdTfSAgLXN0ZD1jOTkgLU8zIikKCi0tLSBzcmMvQ01h
a2VMaXN0cy5vbGQJMjAyMS0xMC0xOCAwMTowNjoxNy43NjMxNzYzMDAgKzAxMDAKKysrIHNyYy9D
TWFrZUxpc3RzLnR4dAkyMDIxLTEwLTE4IDAxOjA2OjE2LjE5MzE3NjMwMCArMDEwMApAQCAtMTAs
OSArMTAsMTIgQEAKIAogaW5jbHVkZV9kaXJlY3RvcmllcygiLi4vaW5jIikKIAotc2V0X3NvdXJj
ZV9maWxlc19wcm9wZXJ0aWVzKCR7RElSX1VBVlMzRV9TUkN9IFBST1BFUlRJRVMgQ09NUElMRV9G
TEFHUyAiJHtDTUFLRV9DX0ZMQUdTfSAtZlBJQyAtc3RkPWM5OSAtTzMiKQotc2V0X3NvdXJjZV9m
aWxlc19wcm9wZXJ0aWVzKCR7RElSX1g4Nl9TUkN9IFBST1BFUlRJRVMgQ09NUElMRV9GTEFHUyAi
JHtDTUFLRV9DX0ZMQUdTfSAtZlBJQyAtc3RkPWM5OSAtTzMgLW1zc2U0LjIiKQotc2V0X3NvdXJj
ZV9maWxlc19wcm9wZXJ0aWVzKCR7RElSX1g4Nl8yNTZfU1JDfSBQUk9QRVJUSUVTIENPTVBJTEVf
RkxBR1MgIiR7Q01BS0VfQ19GTEFHU30gLWZQSUMgLXN0ZD1jOTkgLU8zIC1tYXZ4MiIpCitpZihO
T1QgV0lOMzIpCisgIHNldChGUElDICItZlBJQyIpCitlbmRpZigpCitzZXRfc291cmNlX2ZpbGVz
X3Byb3BlcnRpZXMoJHtESVJfVUFWUzNFX1NSQ30gUFJPUEVSVElFUyBDT01QSUxFX0ZMQUdTICIk
e0NNQUtFX0NfRkxBR1N9ICR7RlBJQ30gLXN0ZD1jOTkgLU8zIikKK3NldF9zb3VyY2VfZmlsZXNf
cHJvcGVydGllcygke0RJUl9YODZfU1JDfSBQUk9QRVJUSUVTIENPTVBJTEVfRkxBR1MgIiR7Q01B
S0VfQ19GTEFHU30gJHtGUElDfSAtc3RkPWM5OSAtTzMgLW1zc2U0LjIiKQorc2V0X3NvdXJjZV9m
aWxlc19wcm9wZXJ0aWVzKCR7RElSX1g4Nl8yNTZfU1JDfSBQUk9QRVJUSUVTIENPTVBJTEVfRkxB
R1MgIiR7Q01BS0VfQ19GTEFHU30gJHtGUElDfSAtc3RkPWM5OSAtTzMgLW1hdngyIikKIAogIyBn
ZXQgdmVyc2lvbgogc2V0IChDT05GSUdfRElSICR7Q01BS0VfQ1VSUkVOVF9TT1VSQ0VfRElSfS8u
LikKCi0tLSBpbmMvY29tX3N5c3RlbS5oCTIwMjEtMTAtMzAgMjE6NDY6MDUuNzI0MDAwMDAwICsw
MTAwCisrKyBpbmMvY29tX3N5c3RlbS5oCTIwMjEtMTAtMzAgMjE6NDY6MTkuNTA1MDQ2MzAwICsw
MTAwCkBAIC0xNjEsNyArMTYxLDcgQEAKICNkZWZpbmUgY29tX21zZXRfeDEyOChkc3QsdixzaXpl
KSBtZW1zZXQoKGRzdCksICh2KSwgKHNpemUpKQogI2RlZmluZSBjb21fbWNtcChkc3Qsc3JjLHNp
emUpICAgIG1lbWNtcCgoZHN0KSwgKHNyYyksIChzaXplKSkKIAotI2lmIGRlZmluZWQoX19HTlVD
X18pCisjaWYgZGVmaW5lZChfX0dOVUNfXykgJiYgIWRlZmluZWQoX19BTkRST0lEX18pCiAjZGVm
aW5lIG9mZnNldG9mKHMsbSkgX19idWlsdGluX29mZnNldG9mKHMsbSkKICNlbmRpZgoKLS0tIGlu
Yy9jb21fdGhyZWFkLmgJMjAyMS0xMC0zMCAyMjowNToxNy40NzUwMDAwMDAgKzAxMDAKKysrIGlu
Yy9jb21fdGhyZWFkLmgJMjAyMS0xMC0zMCAyMjowNjozMS44NDUwNDYzMDAgKzAxMDAKQEAgLTIz
LDcgKzIzLDcgQEAKIAogI2Vsc2UKIAotI3ByYWdtYSBjb21tZW50KGxpYiwgInB0aHJlYWRWQzIu
bGliIikKKy8vI3ByYWdtYSBjb21tZW50KGxpYiwgInB0aHJlYWRWQzIubGliIikKIAogI2luY2x1
ZGUgPHNlbWFwaG9yZS5oPgogI2luY2x1ZGUgPHB0aHJlYWQuaD4K
XB64_PATCH

# Filelist
# --------
# include/uavs3e/uavs3e.h
# include/uavs3e/com_api.h
# lib/pkgconfig/uavs3e.pc
# lib/libuavs3e.so
